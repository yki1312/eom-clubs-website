CREATE DATABASE test;

CREATE TABLE Clubs (
    Title VARCHAR(100),
    Description VARCHAR(2000),
    ContactInfo VARCHAR(500),
    Media BLOB,
    MemberCount INT,
    PRIMARY KEY (Title)
);

CREATE TABLE ClubMembers (
    MemberID INT AUTO_INCREMENT,
    Name VARCHAR(50) NOT NULL,
    Club VARCHAR(100) NOT NULL,
    PRIMARY KEY (MemberID),
    FOREIGN KEY (Club) REFERENCES Clubs(Title)
);

CREATE TABLE ClubSuggestions (
    SuggestionID INT AUTO_INCREMENT,
    Suggestion VARCHAR(2000) NOT NULL,
    Club VARCHAR(100) NOT NULL,
    PRIMARY KEY (SuggestionID),
    FOREIGN KEY (Club) REFERENCES Clubs(Title)
);

CREATE TABLE InvitationCodes (
    InvitationCode INT,
    CreationTime TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    AccountType VARCHAR(7) DEFAULT 'student',
    PRIMARY KEY (InvitationCode)
);

CREATE TABLE Users (
    UserID INT AUTO_INCREMENT,
    Username VARCHAR(50) NOT NULL,
    Password VARCHAR(50) NOT NULL,
    InvitationCode INT NOT NULL,
    CreationTime TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (UserID),
    FOREIGN KEY (InvitationCode) REFERENCES InvitationCodes(InvitationCode)
);

INSERT INTO InvitationCodes(InvitationCode, AccountType) VALUES (12345, 'teacher');
INSERT INTO Users(Username, Password, InvitationCode) VALUES ('MasterUser', '12345', 12345);